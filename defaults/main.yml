---
nginx_primal_name: ''
nginx_canonical_name: ''
php_version: 7.1
responsible_person: root
web_root_dir_name: web
redirect_code: 302
rewrite_target: '/index.php'
image_cache_location: '/sites/.*/files/styles/'
ssl_ciphers: 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256'
ssl_protocols: 'TLSv1.2'
default_document: 'index.html index.php'
web_application: drupal8

nginx_aliases: []

# No trailing slash.
nginx_drupal_uploads_dir_pattern: '/sites/.*/files'

# Allow standard ports to be overridden
http_port: 80
https_port: 443

# For use with mult-server setups
mysql_allow_from: localhost
mysql_host_address: localhost

rds: false

# Path to the template file in the playbook that the role should upload.
nginx_include_custom: ''
# Path to the template file after it's been uploaded to the server.
nginx_include_custom_dest: "/etc/nginx/includes/{{ linux_owner }}-{{ project }}.custom.conf"

# Instead of uploading, just refer to a file that already exists.
nginx_include_resident: ''

# Set empty defaults here. If the playbook doesn't set a value for them, we'll use set_fact in tasks to create sane defaults.
php_service_user: ''
fpm_pool_filename: ''

# Throw caution to the wind: Ignore errors and skip safety checks from acro-add-website.sh
force: false


# Keep staging, or pre-production sites away from google's prying eyes. This is created at the virtaul host level. See also "disable_http_auth".
require_http_auth: false
http_auth_username: ''
http_auth_password: ''
http_auth_message: 'Protected area'
path_to_htpasswd_file: "/etc/nginx/includes/deny-anonymous.{{ linux_owner }}-{{ project }}.htpasswd"

# Let certain locations only be accessed by specific IPs or networks
nginx_ip_restricted_locations: []
nginx_allowed_ips: []

path_to_nginx_php_fpm_include: "/etc/nginx/includes/{{ linux_owner }}-{{ project }}.php-fpm.conf"

# PHP File upload limits
max_upload_size_mb: 8
php_upload_max_filesize: "{{ max_upload_size_mb }}M"
php_post_max_size: "{{ max_upload_size_mb }}M"
client_max_body_size: "{{ max_upload_size_mb }}m"

# PHP Process timeout limits
max_execution_time_seconds: 300
fastcgi_read_timeout: "{{ max_execution_time_seconds }}s"
php_max_execution_time: "{{ max_execution_time_seconds }}"
php_default_socket_timeout: "{{ max_execution_time_seconds }}"

# PHP performance limits
php_fpm_mode: ondemand
php_fpm_max_children: 5
php_fpm_start_servers: 2
php_fpm_min_spare_servers: 1
php_fpm_max_spare_servers: 3
php_fpm_max_requests: 5000
php_memory_limit: 128M
php_max_input_vars: 3001
php_fpm_status_path: ''

# Allow arbitrary location blocks from the role (without an include file). See readme.
nginx_location_extras: []

# Paranoid-by-default wordpress config.
# nginx_allow_xmlrpc==false gives 403 for requests to /xmlrpc.php. XMLRPC is only needed if you are publishing from remote locations.
nginx_allow_wp_xmlrpc: false
# nginx_allow_wp_json==false gives 403 for requests to urls that begin with /wp-json
# Without this, you'll need the classic editor enabled in wp >= 5.0
nginx_allow_wp_json: false

# In some cases, you may need drupal to handle requests for otherwise static gif / jpg / js files
nginx_rewrite_static_content: false

# Allow use of a custom log format, which must already exist / be defined on the server.
# The default format is nginx's internal "custom" format, which doesn't need to be specified
# See http://nginx.org/en/docs/http/ngx_http_log_module.html#log_format
nginx_access_log_format: ''
nginx_access_log_path: "/var/log/vhosts/{{ linux_owner }}/{{ project }}/nginx-access.log"
nginx_access_log_conf: "{{ [nginx_access_log_path, nginx_access_log_format] | join (' ') }}"

# This isn't really used by us (yet); we just pass it to acro-add-website
skip_mysql: false

# On staging/dev servers, the global nginx config may be imposing password authentication. Let it be disabled per-virtual host.
disable_http_auth: false

# On staging/dev servers, the global nginx config may be imposing password authentication. Let it be disabled per-virtual host.
disable_environment_indicator: false
